<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test</title>

<script type="text/javascript" src="/jmi-canvas/src/main/js/jmi.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/lib/json_sans_eval.js"></script>

<script type="text/javascript" src="/jmi-canvas/src/main/js/script/ActiveZone.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/BagZone.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Base.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/ColorX.js"></script>
<!--script type="text/javascript" src="/jmi-canvas/src/main/js/script/CustomMenuItemRenderer.js"></script-->
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Dimension.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Env.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/FontX.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/HTMLText.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Insets.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/LinkZone.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/MenuX.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Plan.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/PlanContainer.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Point.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Polygon.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Rectangle.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/SatData.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Satellite.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/ShapeX.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Slice.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Swatch.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/TipTimer.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Token.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/Transfo.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/script/VContainer.js"></script>

<script type="text/javascript" src="/jmi-canvas/src/main/js/util/ImageUtil.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/util/EventManager.js"></script>

<script type="text/javascript" src="/jmi-canvas/src/main/js/components/Map.js"></script>
<script type="text/javascript" src="/jmi-canvas/src/main/js/components/MapRequester.js"></script>

<script>
function GoMap() {
	var map = JMI.Map('map');
	map.addEventListener('status', function(event) {
		document.getElementById('status').innerHTML = event.message;
	} )
	map.addEventListener('action', function(event) {
		window[event.fn](event.args);
	} )
	map.addEventListener('attribute_click', function(event) {
		//alert( event.attribute.props['NAME']);
	} )
	map.addEventListener('error', function(event) {
		alert( event.message);
	} )
	var requester = new JMI.components.MapRequester(map, 'http://localhost:8080/jmi-server/');
	var parameters = {};
    parameters.wpsserverurl = 'http://localhost:8080/jmi-server/';
	parameters.invert="false";
    parameters.analysisProfile = "GlobalProfile";
    requester.onerror = function(error) {
		alert( error);
	};
	requester.getMap('Json_sample', parameters);
};
function JMIF_Navigate(args) {
	alert( args[0]);
}
</script>
</head>
<body onload="GoMap()">
	<div>
		<ul>
			<li>element 1</li>
			<li>element 2</li>
		</ul>
	</div>
<div id="map" style="border:1px solid black ; width: 640px ; height: 480px"></div>
<button onclick="document.getElementById('map').JMI.resize(900,480);">Resize</button>
<div id="mouse">&nbsp;</div>
<div id="status">&nbsp;</div>
</body>
</html>